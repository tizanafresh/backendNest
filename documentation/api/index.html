<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√çndice de APIs - Tizanas Fresh</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 40px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }
        .header p {
            margin: 10px 0 0 0;
            font-size: 1.2em;
            opacity: 0.9;
        }
        .content {
            padding: 40px;
        }
        .section {
            margin-bottom: 40px;
            padding: 30px;
            border-radius: 10px;
            background: #f8f9fa;
            border-left: 5px solid #2c3e50;
        }
        .section h2 {
            color: #2c3e50;
            margin-top: 0;
            font-size: 1.8em;
        }
        .api-card {
            background: white;
            margin: 20px 0;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 4px solid #3498db;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .api-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        .api-card h3 {
            color: #2c3e50;
            margin-top: 0;
            font-size: 1.4em;
        }
        .api-card a {
            text-decoration: none;
            color: inherit;
        }
        .status-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
            margin-left: 10px;
            color: white;
        }
        .implemented { background: #27ae60; }
        .planned { background: #f39c12; }
        .development { background: #3498db; }
        .description {
            color: #7f8c8d;
            margin: 15px 0;
        }
        .endpoints {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        .endpoint-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .endpoint-list li {
            padding: 5px 0;
            border-bottom: 1px solid #eee;
        }
        .endpoint-list li:last-child {
            border-bottom: none;
        }
        .method {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.7em;
            font-weight: bold;
            margin-right: 8px;
            color: white;
            min-width: 40px;
            text-align: center;
        }
        .post { background: #27ae60; }
        .get { background: #3498db; }
        .put { background: #f39c12; }
        .delete { background: #e74c3c; }
        .url {
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #2c3e50;
        }
        .note {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        .summary-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #2c3e50;
        }
        .stat-label {
            color: #7f8c8d;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìö √çndice de APIs</h1>
            <p>Tizanas Fresh - Documentaci√≥n Completa de APIs</p>
            <p>NestJS + MongoDB - Backend API Reference</p>
        </div>
        
        <div class="content">
            <div class="section">
                <h2>üìä Resumen de APIs</h2>
                
                <div class="summary-stats">
                    <div class="stat-card">
                        <div class="stat-number">4</div>
                        <div class="stat-label">M√≥dulos Documentados</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">1</div>
                        <div class="stat-label">Implementado</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">3</div>
                        <div class="stat-label">Planificados</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">25+</div>
                        <div class="stat-label">Endpoints Totales</div>
                    </div>
                </div>

                <div class="note">
                    <strong>üìù Nota:</strong> Esta documentaci√≥n se actualiza autom√°ticamente conforme se implementan nuevos m√≥dulos. Los endpoints planificados est√°n basados en la documentaci√≥n t√©cnica del proyecto.
                </div>
            </div>

            <div class="section">
                <h2>üîê M√≥dulo de Autenticaci√≥n</h2>
                
                <div class="api-card">
                    <a href="auth-api.html">
                        <h3>
                            üîê API de Autenticaci√≥n
                            <span class="status-badge implemented">IMPLEMENTADO</span>
                        </h3>
                    </a>
                    <div class="description">
                        Sistema completo de autenticaci√≥n JWT con gesti√≥n de usuarios, login, registro y verificaci√≥n de tokens.
                    </div>
                    
                    <div class="endpoints">
                        <strong>Endpoints disponibles:</strong>
                        <ul class="endpoint-list">
                            <li>
                                <span class="method post">POST</span>
                                <span class="url">/auth/login</span>
                                <span>Login de usuario</span>
                            </li>
                            <li>
                                <span class="method post">POST</span>
                                <span class="url">/auth/login-local</span>
                                <span>Login con guard local</span>
                            </li>
                            <li>
                                <span class="method get">GET</span>
                                <span class="url">/auth/profile</span>
                                <span>Obtener perfil de usuario</span>
                            </li>
                            <li>
                                <span class="method get">GET</span>
                                <span class="url">/auth/verify</span>
                                <span>Verificar token JWT</span>
                            </li>
                        </ul>
                    </div>

                    <div class="note">
                        <strong>‚úÖ Caracter√≠sticas implementadas:</strong>
                        <ul>
                            <li>Autenticaci√≥n JWT con bcrypt</li>
                            <li>Validaci√≥n de usuarios contra base de datos</li>
                            <li>Guards de autenticaci√≥n</li>
                            <li>Usuarios de prueba incluidos</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üå± M√≥dulo de Seeding</h2>
                
                <div class="api-card">
                    <a href="seed-api.html">
                        <h3>
                            üå± API de Seeding
                            <span class="status-badge implemented">IMPLEMENTADO</span>
                        </h3>
                    </a>
                    <div class="description">
                        Sistema de poblaci√≥n de base de datos con datos de prueba para desarrollo y testing.
                    </div>
                    
                    <div class="endpoints">
                        <strong>Endpoints disponibles:</strong>
                        <ul class="endpoint-list">
                            <li>
                                <span class="method post">POST</span>
                                <span class="url">/seed</span>
                                <span>Poblar base de datos</span>
                            </li>
                            <li>
                                <span class="method get">GET</span>
                                <span class="url">/seed/status</span>
                                <span>Estado del endpoint</span>
                            </li>
                        </ul>
                    </div>

                    <div class="note">
                        <strong>‚úÖ Datos creados:</strong>
                        <ul>
                            <li>5 usuarios con diferentes niveles de fidelizaci√≥n</li>
                            <li>5 categor√≠as de productos</li>
                            <li>5 productos con informaci√≥n nutricional</li>
                            <li>3 cupones de diferentes tipos</li>
                            <li>2 pedidos de ejemplo</li>
                            <li>4 notificaciones</li>
                            <li>4 registros de fidelizaci√≥n</li>
                            <li>3 tokens de dispositivos</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üçπ M√≥dulo de Productos</h2>
                
                <div class="api-card">
                    <a href="products-api.html">
                        <h3>
                            üçπ API de Productos
                            <span class="status-badge planned">PLANIFICADO</span>
                        </h3>
                    </a>
                    <div class="description">
                        Gesti√≥n completa de productos, categor√≠as, b√∫squeda y filtrado con informaci√≥n nutricional.
                    </div>
                    
                    <div class="endpoints">
                        <strong>Endpoints planificados:</strong>
                        <ul class="endpoint-list">
                            <li>
                                <span class="method get">GET</span>
                                <span class="url">/categories</span>
                                <span>Listar categor√≠as</span>
                            </li>
                            <li>
                                <span class="method get">GET</span>
                                <span class="url">/categories/:id</span>
                                <span>Obtener categor√≠a</span>
                            </li>
                            <li>
                                <span class="method get">GET</span>
                                <span class="url">/products</span>
                                <span>Listar productos</span>
                            </li>
                            <li>
                                <span class="method get">GET</span>
                                <span class="url">/products/:id</span>
                                <span>Obtener producto</span>
                            </li>
                            <li>
                                <span class="method post">POST</span>
                                <span class="url">/products</span>
                                <span>Crear producto (Admin)</span>
                            </li>
                            <li>
                                <span class="method put">PUT</span>
                                <span class="url">/products/:id</span>
                                <span>Actualizar producto (Admin)</span>
                            </li>
                            <li>
                                <span class="method delete">DELETE</span>
                                <span class="url">/products/:id</span>
                                <span>Eliminar producto (Admin)</span>
                            </li>
                            <li>
                                <span class="method get">GET</span>
                                <span class="url">/products/search</span>
                                <span>B√∫squeda avanzada</span>
                            </li>
                        </ul>
                    </div>

                    <div class="note">
                        <strong>üöß Caracter√≠sticas planificadas:</strong>
                        <ul>
                            <li>CRUD completo de productos y categor√≠as</li>
                            <li>B√∫squeda por texto y filtros avanzados</li>
                            <li>Informaci√≥n nutricional detallada</li>
                            <li>Paginaci√≥n y ordenamiento</li>
                            <li>Gesti√≥n de disponibilidad</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üì¶ M√≥dulo de Pedidos</h2>
                
                <div class="api-card">
                    <a href="orders-api.html">
                        <h3>
                            üì¶ API de Pedidos
                            <span class="status-badge planned">PLANIFICADO</span>
                        </h3>
                    </a>
                    <div class="description">
                        Gesti√≥n completa del ciclo de vida de pedidos, tracking de estados, cupones y c√°lculo de totales.
                    </div>
                    
                    <div class="endpoints">
                        <strong>Endpoints planificados:</strong>
                        <ul class="endpoint-list">
                            <li>
                                <span class="method post">POST</span>
                                <span class="url">/orders</span>
                                <span>Crear pedido</span>
                            </li>
                            <li>
                                <span class="method get">GET</span>
                                <span class="url">/orders</span>
                                <span>Listar pedidos del usuario</span>
                            </li>
                            <li>
                                <span class="method get">GET</span>
                                <span class="url">/orders/:id</span>
                                <span>Obtener pedido</span>
                            </li>
                            <li>
                                <span class="method put">PUT</span>
                                <span class="url">/orders/:id/status</span>
                                <span>Actualizar estado (Admin)</span>
                            </li>
                            <li>
                                <span class="method delete">DELETE</span>
                                <span class="url">/orders/:id/cancel</span>
                                <span>Cancelar pedido</span>
                            </li>
                            <li>
                                <span class="method get">GET</span>
                                <span class="url">/orders/admin/all</span>
                                <span>Listar todos los pedidos (Admin)</span>
                            </li>
                            <li>
                                <span class="method get">GET</span>
                                <span class="url">/orders/admin/stats</span>
                                <span>Estad√≠sticas (Admin)</span>
                            </li>
                        </ul>
                    </div>

                    <div class="note">
                        <strong>üöß Caracter√≠sticas planificadas:</strong>
                        <ul>
                            <li>Estados de pedido: PENDING ‚Üí CONFIRMED ‚Üí PREPARING ‚Üí READY ‚Üí DELIVERED</li>
                            <li>Integraci√≥n con cupones y descuentos</li>
                            <li>Tracking completo de pedidos</li>
                            <li>Estad√≠sticas para administradores</li>
                            <li>Notificaciones autom√°ticas</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üöß M√≥dulos Futuros</h2>
                
                <div class="api-card">
                    <h3>
                        üé´ API de Cupones
                        <span class="status-badge planned">PLANIFICADO</span>
                    </h3>
                    <div class="description">
                        Sistema de cupones de descuento con c√≥digos QR, validaci√≥n y gesti√≥n de usos.
                    </div>
                    
                    <div class="note">
                        <strong>üìã Endpoints planificados:</strong>
                        <ul>
                            <li>GET /coupons - Listar cupones disponibles</li>
                            <li>POST /coupons/validate - Validar cup√≥n</li>
                            <li>POST /coupons - Crear cup√≥n (Admin)</li>
                            <li>GET /coupons/admin/all - Gesti√≥n de cupones (Admin)</li>
                        </ul>
                    </div>
                </div>

                <div class="api-card">
                    <h3>
                        üèÜ API de Fidelizaci√≥n
                        <span class="status-badge planned">PLANIFICADO</span>
                    </h3>
                    <div class="description">
                        Sistema de puntos de fidelizaci√≥n, niveles de usuario y historial de transacciones.
                    </div>
                    
                    <div class="note">
                        <strong>üìã Endpoints planificados:</strong>
                        <ul>
                            <li>GET /loyalty/points - Obtener puntos del usuario</li>
                            <li>GET /loyalty/history - Historial de puntos</li>
                            <li>POST /loyalty/redeem - Canjear puntos</li>
                            <li>GET /loyalty/levels - Informaci√≥n de niveles</li>
                        </ul>
                    </div>
                </div>

                <div class="api-card">
                    <h3>
                        üîî API de Notificaciones
                        <span class="status-badge planned">PLANIFICADO</span>
                    </h3>
                    <div class="description">
                        Sistema de notificaciones push, emails y gesti√≥n de tokens de dispositivos.
                    </div>
                    
                    <div class="note">
                        <strong>üìã Endpoints planificados:</strong>
                        <ul>
                            <li>GET /notifications - Listar notificaciones</li>
                            <li>PUT /notifications/:id/read - Marcar como le√≠da</li>
                            <li>POST /notifications/tokens - Registrar token de dispositivo</li>
                            <li>POST /notifications/send - Enviar notificaci√≥n (Admin)</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üìã Informaci√≥n T√©cnica</h2>
                
                <div class="note">
                    <strong>üîß Stack Tecnol√≥gico:</strong>
                    <ul>
                        <li><strong>Framework:</strong> NestJS (Node.js)</li>
                        <li><strong>Base de Datos:</strong> MongoDB con Mongoose</li>
                        <li><strong>Autenticaci√≥n:</strong> JWT + Passport</li>
                        <li><strong>Validaci√≥n:</strong> class-validator + class-transformer</li>
                        <li><strong>Documentaci√≥n:</strong> HTML personalizado</li>
                    </ul>
                </div>

                <div class="note">
                    <strong>üîí Seguridad:</strong>
                    <ul>
                        <li>Autenticaci√≥n JWT con expiraci√≥n configurable</li>
                        <li>Hash de contrase√±as con bcrypt</li>
                        <li>Guards de autenticaci√≥n y autorizaci√≥n</li>
                        <li>Validaci√≥n de entrada en todos los endpoints</li>
                        <li>Rate limiting (planificado)</li>
                    </ul>
                </div>

                <div class="note">
                    <strong>üìä Base de Datos:</strong>
                    <ul>
                        <li><strong>Colecciones:</strong> Users, Categories, Products, Orders, Coupons, Notifications, LoyaltyHistory, DeviceTokens</li>
                        <li><strong>Relaciones:</strong> Referencias ObjectId entre colecciones</li>
                        <li><strong>√çndices:</strong> Optimizados para b√∫squedas y consultas frecuentes</li>
                        <li><strong>Validaci√≥n:</strong> Esquemas Mongoose con validaci√≥n de datos</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</body>
</html> 