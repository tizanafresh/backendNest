<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API de Productos - Tizanas Fresh</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f4f4f4;
        }
        .container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 3px solid #e74c3c;
            padding-bottom: 20px;
        }
        .logo {
            color: #e74c3c;
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .title {
            color: #2c3e50;
            font-size: 2em;
            margin-bottom: 10px;
        }
        .subtitle {
            color: #7f8c8d;
            font-size: 1.2em;
        }
        .endpoint {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #f9f9f9;
        }
        .method {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 5px;
            color: white;
            font-weight: bold;
            margin-right: 10px;
        }
        .get { background-color: #61affe; }
        .post { background-color: #49cc90; }
        .put { background-color: #fca130; }
        .patch { background-color: #50e3c2; }
        .delete { background-color: #f93e3e; }
        .url {
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            color: #2c3e50;
            font-weight: bold;
        }
        .description {
            margin: 15px 0;
            color: #555;
        }
        .params {
            margin: 15px 0;
        }
        .param {
            margin: 10px 0;
            padding: 10px;
            background-color: #f8f9fa;
            border-left: 4px solid #007bff;
            border-radius: 5px;
        }
        .param-name {
            font-weight: bold;
            color: #007bff;
        }
        .param-type {
            color: #6c757d;
            font-size: 0.9em;
        }
        .param-desc {
            margin-top: 5px;
            color: #555;
        }
        .example {
            margin: 15px 0;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        .response {
            margin: 15px 0;
        }
        .response-title {
            font-weight: bold;
            color: #28a745;
            margin-bottom: 10px;
        }
        .code {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
        }
        .note {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .warning {
            background-color: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .success {
            background-color: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .feature-card {
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #f9f9f9;
        }
        .feature-title {
            font-weight: bold;
            color: #e74c3c;
            margin-bottom: 10px;
        }
        .filter-options {
            margin: 20px 0;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
        }
        .filter-group {
            margin: 15px 0;
        }
        .filter-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .filter-option {
            margin: 5px 0;
            padding: 5px 10px;
            background-color: #e9ecef;
            border-radius: 3px;
            display: inline-block;
            margin-right: 10px;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">üçπ Tizanas Fresh</div>
            <h1 class="title">API de Productos</h1>
            <p class="subtitle">Gesti√≥n completa de productos y categor√≠as con b√∫squeda avanzada y filtros</p>
        </div>

        <div class="description">
            <h2>üìã Descripci√≥n General</h2>
            <p>La API de Productos proporciona endpoints completos para la gesti√≥n de productos y categor√≠as de Tizanas Fresh. Incluye funcionalidades avanzadas de b√∫squeda, filtrado, paginaci√≥n y ordenamiento.</p>
        </div>

        <div class="features">
            <div class="feature-card">
                <div class="feature-title">üîç B√∫squeda Avanzada</div>
                <p>B√∫squeda por texto en nombre, descripci√≥n e ingredientes con filtros m√∫ltiples</p>
            </div>
            <div class="feature-card">
                <div class="feature-title">üéØ Filtros Especializados</div>
                <p>Filtros por categor√≠a, precio, calor√≠as, informaci√≥n diet√©tica y disponibilidad</p>
            </div>
            <div class="feature-card">
                <div class="feature-title">üìä Paginaci√≥n y Ordenamiento</div>
                <p>Paginaci√≥n autom√°tica con ordenamiento por m√∫ltiples campos</p>
            </div>
            <div class="feature-card">
                <div class="feature-title">üõ°Ô∏è Autenticaci√≥n</div>
                <p>Endpoints protegidos para operaciones de administraci√≥n</p>
            </div>
        </div>

        <div class="filter-options">
            <h3>üéØ Opciones de Filtrado y B√∫squeda</h3>
            
            <div class="filter-group">
                <div class="filter-title">üìù B√∫squeda por Texto</div>
                <p>Busca en nombre, descripci√≥n e ingredientes de productos</p>
                <div class="filter-option">search: "tizana verde"</div>
            </div>

            <div class="filter-group">
                <div class="filter-title">üí∞ Filtros de Precio</div>
                <p>Filtra productos por rango de precios</p>
                <div class="filter-option">minPrice: 5.00</div>
                <div class="filter-option">maxPrice: 15.00</div>
            </div>

            <div class="filter-group">
                <div class="filter-title">üî• Filtros de Calor√≠as</div>
                <p>Filtra productos por rango de calor√≠as</p>
                <div class="filter-option">minCalories: 50</div>
                <div class="filter-option">maxCalories: 200</div>
            </div>

            <div class="filter-group">
                <div class="filter-title">ü•ó Filtros Diet√©ticos</div>
                <p>Filtra por preferencias diet√©ticas</p>
                <div class="filter-option">dietary: "vegan"</div>
                <div class="filter-option">dietary: "vegetarian"</div>
                <div class="filter-option">dietary: "gluten-free"</div>
                <div class="filter-option">dietary: "dairy-free"</div>
            </div>

            <div class="filter-group">
                <div class="filter-title">üìä Ordenamiento</div>
                <p>Ordena resultados por diferentes campos</p>
                <div class="filter-option">sort: "name" | "price" | "calories" | "createdAt" | "popularity"</div>
                <div class="filter-option">order: "asc" | "desc"</div>
            </div>
        </div>

        <h2>üîå Endpoints de Productos</h2>

        <!-- Obtener todos los productos con filtros -->
        <div class="endpoint">
            <div class="method get">GET</div>
            <span class="url">/api/products</span>
            <div class="description">
                <strong>Obtener todos los productos con filtros, b√∫squeda y paginaci√≥n</strong><br>
                Endpoint principal que permite obtener productos con m√∫ltiples opciones de filtrado, b√∫squeda y paginaci√≥n.
            </div>
            
            <div class="params">
                <h4>Query Parameters:</h4>
                <div class="param">
                    <div class="param-name">page</div>
                    <div class="param-type">number (opcional, default: 1)</div>
                    <div class="param-desc">N√∫mero de p√°gina para paginaci√≥n</div>
                </div>
                <div class="param">
                    <div class="param-name">limit</div>
                    <div class="param-type">number (opcional, default: 10, max: 100)</div>
                    <div class="param-desc">N√∫mero de elementos por p√°gina</div>
                </div>
                <div class="param">
                    <div class="param-name">category</div>
                    <div class="param-type">string (opcional)</div>
                    <div class="param-desc">ID de categor√≠a para filtrar productos</div>
                </div>
                <div class="param">
                    <div class="param-name">available</div>
                    <div class="param-type">boolean (opcional)</div>
                    <div class="param-desc">Filtrar por disponibilidad (true/false)</div>
                </div>
                <div class="param">
                    <div class="param-name">search</div>
                    <div class="param-type">string (opcional)</div>
                    <div class="param-desc">T√©rmino de b√∫squeda en nombre, descripci√≥n e ingredientes</div>
                </div>
                <div class="param">
                    <div class="param-name">minPrice / maxPrice</div>
                    <div class="param-type">number (opcional)</div>
                    <div class="param-desc">Rango de precios para filtrar</div>
                </div>
                <div class="param">
                    <div class="param-name">minCalories / maxCalories</div>
                    <div class="param-type">number (opcional)</div>
                    <div class="param-desc">Rango de calor√≠as para filtrar</div>
                </div>
                <div class="param">
                    <div class="param-name">dietary</div>
                    <div class="param-type">string (opcional)</div>
                    <div class="param-desc">Filtro diet√©tico: "vegan", "vegetarian", "gluten-free", "dairy-free"</div>
                </div>
                <div class="param">
                    <div class="param-name">sort</div>
                    <div class="param-type">string (opcional, default: "name")</div>
                    <div class="param-desc">Campo para ordenar: "name", "price", "calories", "createdAt", "popularity"</div>
                </div>
                <div class="param">
                    <div class="param-name">order</div>
                    <div class="param-type">string (opcional, default: "asc")</div>
                    <div class="param-desc">Orden: "asc" o "desc"</div>
                </div>
            </div>

            <div class="example">
                <strong>Ejemplo de Request:</strong><br>
                GET /api/products?page=1&limit=10&category=507f1f77bcf86cd799439011&search=tizana&minPrice=5&maxPrice=15&dietary=vegan&sort=price&order=asc
            </div>

            <div class="response">
                <div class="response-title">Response (200 OK):</div>
                <div class="code">
{
  "products": [
    {
      "id": "507f1f77bcf86cd799439011",
      "name": "Tizana Verde Detox",
      "description": "Tizana refrescante con ingredientes naturales",
      "price": 8.50,
      "image": "https://example.com/tizana-verde.jpg",
      "available": true,
      "category": {
        "id": "507f1f77bcf86cd799439012",
        "name": "Detox",
        "description": "Tizanas detoxificantes"
      },
      "nutritionalInfo": {
        "calories": 45,
        "protein": 2.5,
        "carbs": 8.0,
        "fat": 0.5
      },
      "dietaryInfo": {
        "vegan": true,
        "vegetarian": true,
        "glutenFree": true,
        "dairyFree": true
      },
      "ingredients": ["espinaca", "manzana", "lim√≥n", "jengibre"],
      "createdAt": "2024-01-15T10:30:00.000Z",
      "updatedAt": "2024-01-15T10:30:00.000Z"
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 10,
    "total": 25,
    "pages": 3
  },
  "filters": {
    "category": "507f1f77bcf86cd799439012",
    "search": "tizana",
    "minPrice": 5,
    "maxPrice": 15,
    "dietary": "vegan",
    "sort": "price",
    "order": "asc"
  }
}
                </div>
            </div>
        </div>

        <!-- B√∫squeda avanzada -->
        <div class="endpoint">
            <div class="method get">GET</div>
            <span class="url">/api/products/search/advanced</span>
            <div class="description">
                <strong>B√∫squeda avanzada con m√∫ltiples criterios</strong><br>
                Endpoint especializado para b√∫squedas complejas con m√∫ltiples filtros simult√°neos.
            </div>
            
            <div class="params">
                <h4>Query Parameters:</h4>
                <div class="param">
                    <div class="param-name">search</div>
                    <div class="param-type">string (opcional)</div>
                    <div class="param-desc">T√©rmino de b√∫squeda en nombre, descripci√≥n e ingredientes</div>
                </div>
                <div class="param">
                    <div class="param-name">category</div>
                    <div class="param-type">string (opcional)</div>
                    <div class="param-desc">ID de categor√≠a para filtrar</div>
                </div>
                <div class="param">
                    <div class="param-name">minPrice / maxPrice</div>
                    <div class="param-type">number (opcional)</div>
                    <div class="param-desc">Rango de precios</div>
                </div>
                <div class="param">
                    <div class="param-name">minCalories / maxCalories</div>
                    <div class="param-type">number (opcional)</div>
                    <div class="param-desc">Rango de calor√≠as</div>
                </div>
                <div class="param">
                    <div class="param-name">dietary</div>
                    <div class="param-type">string (opcional)</div>
                    <div class="param-desc">Filtro diet√©tico</div>
                </div>
                <div class="param">
                    <div class="param-name">available</div>
                    <div class="param-type">boolean (opcional)</div>
                    <div class="param-desc">Filtrar por disponibilidad</div>
                </div>
                <div class="param">
                    <div class="param-name">sort</div>
                    <div class="param-type">string (opcional, default: "name")</div>
                    <div class="param-desc">Campo para ordenar</div>
                </div>
                <div class="param">
                    <div class="param-name">order</div>
                    <div class="param-type">string (opcional, default: "asc")</div>
                    <div class="param-desc">Orden: "asc" o "desc"</div>
                </div>
                <div class="param">
                    <div class="param-name">limit</div>
                    <div class="param-type">number (opcional, default: 20)</div>
                    <div class="param-desc">L√≠mite de resultados</div>
                </div>
            </div>

            <div class="example">
                <strong>Ejemplo de Request:</strong><br>
                GET /api/products/search/advanced?search=detox&minPrice=5&maxPrice=20&dietary=vegan&sort=calories&order=asc&limit=15
            </div>
        </div>

        <!-- B√∫squeda simple -->
        <div class="endpoint">
            <div class="method get">GET</div>
            <span class="url">/api/products/search</span>
            <div class="description">
                <strong>B√∫squeda simple por t√©rmino</strong><br>
                B√∫squeda r√°pida por texto en nombre, descripci√≥n e ingredientes.
            </div>
            
            <div class="params">
                <h4>Query Parameters:</h4>
                <div class="param">
                    <div class="param-name">q</div>
                    <div class="param-type">string (requerido)</div>
                    <div class="param-desc">T√©rmino de b√∫squeda</div>
                </div>
            </div>

            <div class="example">
                <strong>Ejemplo de Request:</strong><br>
                GET /api/products/search?q=tizana verde
            </div>
        </div>

        <!-- Productos disponibles -->
        <div class="endpoint">
            <div class="method get">GET</div>
            <span class="url">/api/products/available</span>
            <div class="description">
                <strong>Obtener solo productos disponibles</strong><br>
                Retorna √∫nicamente productos que est√°n en stock y disponibles para la venta.
            </div>

            <div class="example">
                <strong>Ejemplo de Request:</strong><br>
                GET /api/products/available
            </div>
        </div>

        <!-- Productos por categor√≠a -->
        <div class="endpoint">
            <div class="method get">GET</div>
            <span class="url">/api/products/category/:categoryId</span>
            <div class="description">
                <strong>Obtener productos por categor√≠a</strong><br>
                Retorna todos los productos de una categor√≠a espec√≠fica.
            </div>
            
            <div class="params">
                <h4>Path Parameters:</h4>
                <div class="param">
                    <div class="param-name">categoryId</div>
                    <div class="param-type">string (requerido)</div>
                    <div class="param-desc">ID de la categor√≠a</div>
                </div>
            </div>

            <div class="example">
                <strong>Ejemplo de Request:</strong><br>
                GET /api/products/category/507f1f77bcf86cd799439012
            </div>
        </div>

        <!-- Obtener producto por ID -->
        <div class="endpoint">
            <div class="method get">GET</div>
            <span class="url">/api/products/:id</span>
            <div class="description">
                <strong>Obtener un producto espec√≠fico</strong><br>
                Retorna los detalles completos de un producto por su ID.
            </div>
            
            <div class="params">
                <h4>Path Parameters:</h4>
                <div class="param">
                    <div class="param-name">id</div>
                    <div class="param-type">string (requerido)</div>
                    <div class="param-desc">ID del producto</div>
                </div>
            </div>

            <div class="example">
                <strong>Ejemplo de Request:</strong><br>
                GET /api/products/507f1f77bcf86cd799439011
            </div>

            <div class="response">
                <div class="response-title">Response (200 OK):</div>
                <div class="code">
{
  "id": "507f1f77bcf86cd799439011",
  "name": "Tizana Verde Detox",
  "description": "Tizana refrescante con ingredientes naturales para detox",
  "price": 8.50,
  "image": "https://example.com/tizana-verde.jpg",
  "available": true,
  "category": {
    "id": "507f1f77bcf86cd799439012",
    "name": "Detox",
    "description": "Tizanas detoxificantes"
  },
  "nutritionalInfo": {
    "calories": 45,
    "protein": 2.5,
    "carbs": 8.0,
    "fat": 0.5,
    "fiber": 3.2,
    "sugar": 6.5
  },
  "dietaryInfo": {
    "vegan": true,
    "vegetarian": true,
    "glutenFree": true,
    "dairyFree": true,
    "organic": true
  },
  "ingredients": ["espinaca", "manzana", "lim√≥n", "jengibre", "menta"],
  "benefits": ["detox", "energ√≠a", "digesti√≥n"],
  "preparationTime": 5,
  "servingSize": "350ml",
  "createdAt": "2024-01-15T10:30:00.000Z",
  "updatedAt": "2024-01-15T10:30:00.000Z"
}
                </div>
            </div>
        </div>

        <!-- Crear producto -->
        <div class="endpoint">
            <div class="method post">POST</div>
            <span class="url">/api/products</span>
            <div class="description">
                <strong>Crear un nuevo producto</strong><br>
                Crea un nuevo producto en el sistema. Requiere autenticaci√≥n JWT.
            </div>
            
            <div class="params">
                <h4>Request Body:</h4>
                <div class="param">
                    <div class="param-name">name</div>
                    <div class="param-type">string (requerido)</div>
                    <div class="param-desc">Nombre del producto</div>
                </div>
                <div class="param">
                    <div class="param-name">description</div>
                    <div class="param-type">string (requerido)</div>
                    <div class="param-desc">Descripci√≥n del producto</div>
                </div>
                <div class="param">
                    <div class="param-name">price</div>
                    <div class="param-type">number (requerido)</div>
                    <div class="param-desc">Precio del producto</div>
                </div>
                <div class="param">
                    <div class="param-name">category</div>
                    <div class="param-type">string (requerido)</div>
                    <div class="param-desc">ID de la categor√≠a</div>
                </div>
                <div class="param">
                    <div class="param-name">image</div>
                    <div class="param-type">string (opcional)</div>
                    <div class="param-desc">URL de la imagen del producto</div>
                </div>
                <div class="param">
                    <div class="param-name">ingredients</div>
                    <div class="param-type">string[] (opcional)</div>
                    <div class="param-desc">Lista de ingredientes</div>
                </div>
                <div class="param">
                    <div class="param-name">nutritionalInfo</div>
                    <div class="param-type">object (opcional)</div>
                    <div class="param-desc">Informaci√≥n nutricional</div>
                </div>
                <div class="param">
                    <div class="param-name">dietaryInfo</div>
                    <div class="param-type">object (opcional)</div>
                    <div class="param-desc">Informaci√≥n diet√©tica</div>
                </div>
            </div>

            <div class="example">
                <strong>Ejemplo de Request:</strong><br>
                POST /api/products<br>
                Authorization: Bearer YOUR_JWT_TOKEN<br><br>
                {
                  "name": "Tizana Verde Detox",
                  "description": "Tizana refrescante con ingredientes naturales",
                  "price": 8.50,
                  "category": "507f1f77bcf86cd799439012",
                  "image": "https://example.com/tizana-verde.jpg",
                  "ingredients": ["espinaca", "manzana", "lim√≥n", "jengibre"],
                  "nutritionalInfo": {
                    "calories": 45,
                    "protein": 2.5,
                    "carbs": 8.0,
                    "fat": 0.5
                  },
                  "dietaryInfo": {
                    "vegan": true,
                    "vegetarian": true,
                    "glutenFree": true,
                    "dairyFree": true
                  }
                }
            </div>
        </div>

        <!-- Actualizar producto -->
        <div class="endpoint">
            <div class="method patch">PATCH</div>
            <span class="url">/api/products/:id</span>
            <div class="description">
                <strong>Actualizar un producto existente</strong><br>
                Actualiza los datos de un producto. Requiere autenticaci√≥n JWT.
            </div>
            
            <div class="params">
                <h4>Path Parameters:</h4>
                <div class="param">
                    <div class="param-name">id</div>
                    <div class="param-type">string (requerido)</div>
                    <div class="param-desc">ID del producto a actualizar</div>
                </div>
            </div>

            <div class="example">
                <strong>Ejemplo de Request:</strong><br>
                PATCH /api/products/507f1f77bcf86cd799439011<br>
                Authorization: Bearer YOUR_JWT_TOKEN<br><br>
                {
                  "price": 9.50,
                  "description": "Tizana verde detox actualizada"
                }
            </div>
        </div>

        <!-- Actualizar disponibilidad -->
        <div class="endpoint">
            <div class="method patch">PATCH</div>
            <span class="url">/api/products/:id/availability</span>
            <div class="description">
                <strong>Actualizar disponibilidad de un producto</strong><br>
                Cambia el estado de disponibilidad de un producto. Requiere autenticaci√≥n JWT.
            </div>
            
            <div class="params">
                <h4>Path Parameters:</h4>
                <div class="param">
                    <div class="param-name">id</div>
                    <div class="param-type">string (requerido)</div>
                    <div class="param-desc">ID del producto</div>
                </div>
            </div>
            <div class="params">
                <h4>Request Body:</h4>
                <div class="param">
                    <div class="param-name">available</div>
                    <div class="param-type">boolean (requerido)</div>
                    <div class="param-desc">Estado de disponibilidad</div>
                </div>
            </div>

            <div class="example">
                <strong>Ejemplo de Request:</strong><br>
                PATCH /api/products/507f1f77bcf86cd799439011/availability<br>
                Authorization: Bearer YOUR_JWT_TOKEN<br><br>
                {
                  "available": false
                }
            </div>
        </div>

        <!-- Eliminar producto -->
        <div class="endpoint">
            <div class="method delete">DELETE</div>
            <span class="url">/api/products/:id</span>
            <div class="description">
                <strong>Eliminar un producto</strong><br>
                Elimina permanentemente un producto del sistema. Requiere autenticaci√≥n JWT.
            </div>
            
            <div class="params">
                <h4>Path Parameters:</h4>
                <div class="param">
                    <div class="param-name">id</div>
                    <div class="param-type">string (requerido)</div>
                    <div class="param-desc">ID del producto a eliminar</div>
                </div>
            </div>

            <div class="example">
                <strong>Ejemplo de Request:</strong><br>
                DELETE /api/products/507f1f77bcf86cd799439011<br>
                Authorization: Bearer YOUR_JWT_TOKEN
            </div>

            <div class="response">
                <div class="response-title">Response (200 OK):</div>
                <div class="code">
{
  "message": "Product deleted successfully",
  "deletedProduct": {
    "id": "507f1f77bcf86cd799439011",
    "name": "Tizana Verde Detox"
  }
}
                </div>
            </div>
        </div>

        <h2>üìÇ Endpoints de Categor√≠as</h2>

        <!-- Obtener todas las categor√≠as -->
        <div class="endpoint">
            <div class="method get">GET</div>
            <span class="url">/api/products/categories</span>
            <div class="description">
                <strong>Obtener todas las categor√≠as</strong><br>
                Retorna la lista completa de categor√≠as disponibles.
            </div>

            <div class="example">
                <strong>Ejemplo de Request:</strong><br>
                GET /api/products/categories
            </div>

            <div class="response">
                <div class="response-title">Response (200 OK):</div>
                <div class="code">
[
  {
    "id": "507f1f77bcf86cd799439012",
    "name": "Detox",
    "description": "Tizanas detoxificantes",
    "image": "https://example.com/detox-category.jpg",
    "productCount": 5,
    "createdAt": "2024-01-15T10:30:00.000Z",
    "updatedAt": "2024-01-15T10:30:00.000Z"
  }
]
                </div>
            </div>
        </div>

        <!-- Categor√≠as con conteo -->
        <div class="endpoint">
            <div class="method get">GET</div>
            <span class="url">/api/products/categories/with-counts</span>
            <div class="description">
                <strong>Obtener categor√≠as con conteo de productos</strong><br>
                Retorna categor√≠as con el n√∫mero de productos en cada una.
            </div>

            <div class="example">
                <strong>Ejemplo de Request:</strong><br>
                GET /api/products/categories/with-counts
            </div>
        </div>

        <!-- Obtener categor√≠a por ID -->
        <div class="endpoint">
            <div class="method get">GET</div>
            <span class="url">/api/products/categories/:id</span>
            <div class="description">
                <strong>Obtener una categor√≠a espec√≠fica</strong><br>
                Retorna los detalles de una categor√≠a por su ID.
            </div>
            
            <div class="params">
                <h4>Path Parameters:</h4>
                <div class="param">
                    <div class="param-name">id</div>
                    <div class="param-type">string (requerido)</div>
                    <div class="param-desc">ID de la categor√≠a</div>
                </div>
            </div>

            <div class="example">
                <strong>Ejemplo de Request:</strong><br>
                GET /api/products/categories/507f1f77bcf86cd799439012
            </div>
        </div>

        <!-- Crear categor√≠a -->
        <div class="endpoint">
            <div class="method post">POST</div>
            <span class="url">/api/products/categories</span>
            <div class="description">
                <strong>Crear una nueva categor√≠a</strong><br>
                Crea una nueva categor√≠a de productos. Requiere autenticaci√≥n JWT.
            </div>
            
            <div class="params">
                <h4>Request Body:</h4>
                <div class="param">
                    <div class="param-name">name</div>
                    <div class="param-type">string (requerido)</div>
                    <div class="param-desc">Nombre de la categor√≠a</div>
                </div>
                <div class="param">
                    <div class="param-name">description</div>
                    <div class="param-type">string (opcional)</div>
                    <div class="param-desc">Descripci√≥n de la categor√≠a</div>
                </div>
                <div class="param">
                    <div class="param-name">image</div>
                    <div class="param-type">string (opcional)</div>
                    <div class="param-desc">URL de la imagen de la categor√≠a</div>
                </div>
            </div>

            <div class="example">
                <strong>Ejemplo de Request:</strong><br>
                POST /api/products/categories<br>
                Authorization: Bearer YOUR_JWT_TOKEN<br><br>
                {
                  "name": "Energ√≠a",
                  "description": "Tizanas energizantes",
                  "image": "https://example.com/energy-category.jpg"
                }
            </div>
        </div>

        <!-- Actualizar categor√≠a -->
        <div class="endpoint">
            <div class="method patch">PATCH</div>
            <span class="url">/api/products/categories/:id</span>
            <div class="description">
                <strong>Actualizar una categor√≠a existente</strong><br>
                Actualiza los datos de una categor√≠a. Requiere autenticaci√≥n JWT.
            </div>
            
            <div class="params">
                <h4>Path Parameters:</h4>
                <div class="param">
                    <div class="param-name">id</div>
                    <div class="param-type">string (requerido)</div>
                    <div class="param-desc">ID de la categor√≠a a actualizar</div>
                </div>
            </div>

            <div class="example">
                <strong>Ejemplo de Request:</strong><br>
                PATCH /api/products/categories/507f1f77bcf86cd799439012<br>
                Authorization: Bearer YOUR_JWT_TOKEN<br><br>
                {
                  "description": "Tizanas detoxificantes actualizadas"
                }
            </div>
        </div>

        <!-- Eliminar categor√≠a -->
        <div class="endpoint">
            <div class="method delete">DELETE</div>
            <span class="url">/api/products/categories/:id</span>
            <div class="description">
                <strong>Eliminar una categor√≠a</strong><br>
                Elimina permanentemente una categor√≠a. Requiere autenticaci√≥n JWT.
            </div>
            
            <div class="params">
                <h4>Path Parameters:</h4>
                <div class="param">
                    <div class="param-name">id</div>
                    <div class="param-type">string (requerido)</div>
                    <div class="param-desc">ID de la categor√≠a a eliminar</div>
                </div>
            </div>

            <div class="example">
                <strong>Ejemplo de Request:</strong><br>
                DELETE /api/products/categories/507f1f77bcf86cd799439012<br>
                Authorization: Bearer YOUR_JWT_TOKEN
            </div>
        </div>

        <h2>üìã Casos de Uso</h2>

        <div class="note">
            <h3>üîç Caso de Uso 1: B√∫squeda de Productos por Usuario</h3>
            <p><strong>Escenario:</strong> Un usuario quiere encontrar tizanas detox que sean veganas y est√©n en un rango de precio espec√≠fico.</p>
            <p><strong>Pasos:</strong></p>
            <ol>
                <li>El usuario ingresa t√©rminos de b√∫squeda: "detox"</li>
                <li>Aplica filtros: categor√≠a "Detox", precio entre $5-$15, diet√©tico "vegan"</li>
                <li>Ordena por precio ascendente</li>
                <li>El sistema retorna productos que coinciden con todos los criterios</li>
            </ol>
            <p><strong>Request:</strong></p>
            <div class="code">
GET /api/products?search=detox&category=507f1f77bcf86cd799439012&minPrice=5&maxPrice=15&dietary=vegan&sort=price&order=asc
            </div>
        </div>

        <div class="note">
            <h3>üìä Caso de Uso 2: Administrador Gestionando Productos</h3>
            <p><strong>Escenario:</strong> Un administrador necesita actualizar el precio y disponibilidad de un producto.</p>
            <p><strong>Pasos:</strong></p>
            <ol>
                <li>El administrador se autentica con JWT</li>
                <li>Actualiza el precio del producto</li>
                <li>Cambia la disponibilidad del producto</li>
                <li>El sistema confirma los cambios</li>
            </ol>
            <p><strong>Requests:</strong></p>
            <div class="code">
PATCH /api/products/507f1f77bcf86cd799439011<br>
Authorization: Bearer YOUR_JWT_TOKEN<br>
{ "price": 9.50 }<br><br>
PATCH /api/products/507f1f77bcf86cd799439011/availability<br>
Authorization: Bearer YOUR_JWT_TOKEN<br>
{ "available": false }
            </div>
        </div>

        <div class="note">
            <h3>üõí Caso de Uso 3: Exploraci√≥n de Categor√≠as</h3>
            <p><strong>Escenario:</strong> Un usuario quiere explorar productos por categor√≠as.</p>
            <p><strong>Pasos:</strong></p>
            <ol>
                <li>El usuario obtiene la lista de categor√≠as disponibles</li>
                <li>Selecciona una categor√≠a espec√≠fica</li>
                <li>Ve todos los productos de esa categor√≠a</li>
                <li>Aplica filtros adicionales si es necesario</li>
            </ol>
            <p><strong>Requests:</strong></p>
            <div class="code">
GET /api/products/categories<br>
GET /api/products/category/507f1f77bcf86cd799439012<br>
GET /api/products/category/507f1f77bcf86cd799439012?minPrice=5&maxPrice=20
            </div>
        </div>

        <div class="warning">
            <h3>‚ö†Ô∏è Consideraciones Importantes</h3>
            <ul>
                <li><strong>Autenticaci√≥n:</strong> Los endpoints de creaci√≥n, actualizaci√≥n y eliminaci√≥n requieren token JWT v√°lido</li>
                <li><strong>Validaci√≥n:</strong> Todos los datos de entrada son validados autom√°ticamente</li>
                <li><strong>Paginaci√≥n:</strong> El l√≠mite m√°ximo por p√°gina es 100 elementos</li>
                <li><strong>B√∫squeda:</strong> La b√∫squeda por texto es case-insensitive</li>
                <li><strong>Filtros:</strong> Los filtros se pueden combinar para b√∫squedas m√°s espec√≠ficas</li>
                <li><strong>Ordenamiento:</strong> Los campos de ordenamiento incluyen: name, price, calories, createdAt, popularity</li>
            </ul>
        </div>

        <div class="success">
            <h3>‚úÖ Funcionalidades Implementadas</h3>
            <ul>
                <li><strong>B√∫squeda Avanzada:</strong> B√∫squeda por texto con m√∫ltiples criterios</li>
                <li><strong>Filtros Especializados:</strong> Por categor√≠a, precio, calor√≠as, informaci√≥n diet√©tica</li>
                <li><strong>Paginaci√≥n:</strong> Paginaci√≥n autom√°tica con informaci√≥n de totales</li>
                <li><strong>Ordenamiento:</strong> Ordenamiento por m√∫ltiples campos</li>
                <li><strong>Validaci√≥n:</strong> Validaci√≥n completa de datos de entrada</li>
                <li><strong>Autenticaci√≥n:</strong> Protecci√≥n de endpoints sensibles</li>
                <li><strong>Respuestas Estructuradas:</strong> Respuestas consistentes con metadatos</li>
            </ul>
        </div>
    </div>
</body>
</html> 