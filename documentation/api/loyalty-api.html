<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API de Fidelizaci√≥n - Tizanas Fresh</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
            padding: 40px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }
        .header p {
            margin: 10px 0 0 0;
            font-size: 1.2em;
            opacity: 0.9;
        }
        .content {
            padding: 40px;
        }
        .section {
            margin-bottom: 40px;
            padding: 30px;
            border-radius: 10px;
            background: #f8f9fa;
            border-left: 5px solid #f39c12;
        }
        .section h2 {
            color: #2c3e50;
            margin-top: 0;
            font-size: 1.8em;
        }
        .endpoint {
            background: white;
            margin: 20px 0;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 4px solid #f39c12;
        }
        .method {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            margin-right: 10px;
            color: white;
            min-width: 60px;
            text-align: center;
        }
        .post { background: #27ae60; }
        .get { background: #3498db; }
        .put { background: #f39c12; }
        .delete { background: #e74c3c; }
        .url {
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            color: #2c3e50;
            font-weight: bold;
        }
        .description {
            color: #7f8c8d;
            margin: 15px 0;
        }
        .params {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        .param {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 5px;
            border-left: 3px solid #3498db;
        }
        .param-name {
            font-weight: bold;
            color: #2c3e50;
        }
        .param-type {
            color: #e74c3c;
            font-size: 0.9em;
        }
        .param-required {
            background: #e74c3c;
            color: white;
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 0.7em;
            margin-left: 10px;
        }
        .param-optional {
            background: #95a5a6;
            color: white;
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 0.7em;
            margin-left: 10px;
        }
        .response {
            background: #e8f5e8;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            border-left: 3px solid #27ae60;
        }
        .response-title {
            font-weight: bold;
            color: #27ae60;
            margin-bottom: 10px;
        }
        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
            margin: 15px 0;
        }
        .note {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        .warning {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        .success {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        .nav {
            background: #34495e;
            padding: 20px;
            text-align: center;
        }
        .nav a {
            color: white;
            text-decoration: none;
            margin: 0 15px;
            padding: 10px 20px;
            border-radius: 5px;
            transition: background 0.3s;
        }
        .nav a:hover {
            background: #2c3e50;
        }
        .status-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
            margin-left: 10px;
            color: white;
            background: #27ae60;
        }
        .level-card {
            background: white;
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            border-left: 4px solid #f39c12;
        }
        .level-name {
            font-size: 1.2em;
            font-weight: bold;
            color: #f39c12;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèÜ API de Fidelizaci√≥n</h1>
            <p>Sistema completo de puntos de fidelizaci√≥n y beneficios</p>
            <p>Niveles de usuario, historial y recompensas</p>
        </div>

        <div class="nav">
            <a href="index.html">üè† √çndice</a>
            <a href="auth-api.html">üîê Auth</a>
            <a href="products-api.html">üçπ Productos</a>
            <a href="orders-api.html">üì¶ Pedidos</a>
            <a href="coupons-api.html">üé´ Cupones</a>
            <a href="notifications-api.html">üîî Notificaciones</a>
            <a href="seed-api.html">üå± Seed</a>
        </div>
        
        <div class="content">
            <div class="section">
                <h2>üìã Informaci√≥n General</h2>
                <div class="success">
                    <strong>‚úÖ Estado:</strong> <span class="status-badge">IMPLEMENTADO</span>
                    <p>El sistema de fidelizaci√≥n est√° completamente implementado y funcional.</p>
                </div>
                
                <div class="note">
                    <strong>üéØ Caracter√≠sticas principales:</strong>
                    <ul>
                        <li>Gesti√≥n de puntos de fidelizaci√≥n por usuario</li>
                        <li>Sistema de niveles con beneficios autom√°ticos</li>
                        <li>Historial completo de transacciones</li>
                        <li>Estad√≠sticas detalladas de fidelizaci√≥n</li>
                        <li>Validaci√≥n de c√≥digos de beneficio</li>
                        <li>Aplicaci√≥n autom√°tica de descuentos por nivel</li>
                        <li>Autenticaci√≥n JWT para todas las operaciones</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>üîê Autenticaci√≥n</h2>
                <div class="warning">
                    <strong>‚ö†Ô∏è Nota:</strong> Todos los endpoints requieren autenticaci√≥n JWT. El usuario debe estar logueado para acceder a cualquier funcionalidad de fidelizaci√≥n.
                </div>
            </div>

            <div class="section">
                <h2>üìù Crear Registro de Fidelizaci√≥n</h2>
                <div class="endpoint">
                    <div class="method post">POST</div>
                    <span class="url">/loyalty</span>
                    <div class="description">
                        Crear un nuevo registro de fidelizaci√≥n. Usado por administradores o el sistema autom√°ticamente.
                    </div>
                    
                    <div class="params">
                        <strong>Body Parameters:</strong>
                        <div class="param">
                            <span class="param-name">userId</span>
                            <span class="param-type">string</span>
                            <span class="param-required">Requerido</span>
                            <div>ID del usuario</div>
                        </div>
                        <div class="param">
                            <span class="param-name">points</span>
                            <span class="param-type">number</span>
                            <span class="param-required">Requerido</span>
                            <div>Puntos a agregar (positivo) o restar (negativo)</div>
                        </div>
                        <div class="param">
                            <span class="param-name">type</span>
                            <span class="param-type">string</span>
                            <span class="param-required">Requerido</span>
                            <div>Tipo de transacci√≥n: 'purchase', 'bonus', 'redemption', 'expiration'</div>
                        </div>
                        <div class="param">
                            <span class="param-name">description</span>
                            <span class="param-type">string</span>
                            <span class="param-optional">Opcional</span>
                            <div>Descripci√≥n de la transacci√≥n</div>
                        </div>
                        <div class="param">
                            <span class="param-name">orderId</span>
                            <span class="param-type">string</span>
                            <span class="param-optional">Opcional</span>
                            <div>ID del pedido relacionado</div>
                        </div>
                    </div>

                    <div class="response">
                        <div class="response-title">Response (201 Created):</div>
                        <div class="code-block">
{
  "_id": "507f1f77bcf86cd799439011",
  "userId": "507f1f77bcf86cd799439012",
  "points": 50,
  "type": "purchase",
  "description": "Puntos por compra de ‚Ç¨25.00",
  "orderId": "507f1f77bcf86cd799439013",
  "previousBalance": 150,
  "newBalance": 200,
  "createdAt": "2024-01-15T10:30:00.000Z"
}
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üìä Mi Historial de Fidelizaci√≥n</h2>
                <div class="endpoint">
                    <div class="method get">GET</div>
                    <span class="url">/loyalty/my-history</span>
                    <div class="description">
                        Obtener el historial de fidelizaci√≥n del usuario autenticado con paginaci√≥n.
                    </div>
                    
                    <div class="params">
                        <strong>Query Parameters:</strong>
                        <div class="param">
                            <span class="param-name">page</span>
                            <span class="param-type">number</span>
                            <span class="param-optional">Opcional</span>
                            <div>N√∫mero de p√°gina (default: 1)</div>
                        </div>
                        <div class="param">
                            <span class="param-name">limit</span>
                            <span class="param-type">number</span>
                            <span class="param-optional">Opcional</span>
                            <div>Elementos por p√°gina (default: 10)</div>
                        </div>
                    </div>

                    <div class="response">
                        <div class="response-title">Response (200 OK):</div>
                        <div class="code-block">
{
  "history": [
    {
      "_id": "507f1f77bcf86cd799439011",
      "points": 50,
      "type": "purchase",
      "description": "Puntos por compra de ‚Ç¨25.00",
      "previousBalance": 150,
      "newBalance": 200,
      "createdAt": "2024-01-15T10:30:00.000Z"
    },
    {
      "_id": "507f1f77bcf86cd799439012",
      "points": -20,
      "type": "redemption",
      "description": "Canje por descuento de ‚Ç¨2.00",
      "previousBalance": 200,
      "newBalance": 180,
      "createdAt": "2024-01-14T15:20:00.000Z"
    }
  ],
  "total": 2,
  "page": 1,
  "totalPages": 1
}
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üìà Mis Estad√≠sticas</h2>
                <div class="endpoint">
                    <div class="method get">GET</div>
                    <span class="url">/loyalty/my-stats</span>
                    <div class="description">
                        Obtener estad√≠sticas de fidelizaci√≥n del usuario autenticado.
                    </div>

                    <div class="response">
                        <div class="response-title">Response (200 OK):</div>
                        <div class="code-block">
{
  "currentPoints": 180,
  "currentLevel": "Silver",
  "totalPointsEarned": 500,
  "totalPointsRedeemed": 320,
  "totalTransactions": 15,
  "purchaseTransactions": 10,
  "redemptionTransactions": 3,
  "bonusTransactions": 2,
  "nextLevel": "Gold",
  "pointsToNextLevel": 120,
  "levelBenefits": [
    "5% de descuento en todas las compras",
    "Env√≠o gratuito en pedidos superiores a ‚Ç¨15"
  ]
}
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üë• Historial de Usuario (Admin)</h2>
                <div class="endpoint">
                    <div class="method get">GET</div>
                    <span class="url">/loyalty/user/:userId</span>
                    <div class="description">
                        Obtener historial de fidelizaci√≥n de cualquier usuario. Solo administradores.
                    </div>
                    
                    <div class="params">
                        <strong>Path Parameters:</strong>
                        <div class="param">
                            <span class="param-name">userId</span>
                            <span class="param-type">string</span>
                            <span class="param-required">Requerido</span>
                            <div>ID del usuario a consultar</div>
                        </div>
                    </div>

                    <div class="params">
                        <strong>Query Parameters:</strong>
                        <div class="param">
                            <span class="param-name">page</span>
                            <span class="param-type">number</span>
                            <span class="param-optional">Opcional</span>
                            <div>N√∫mero de p√°gina (default: 1)</div>
                        </div>
                        <div class="param">
                            <span class="param-name">limit</span>
                            <span class="param-type">number</span>
                            <span class="param-optional">Opcional</span>
                            <div>Elementos por p√°gina (default: 10)</div>
                        </div>
                    </div>

                    <div class="response">
                        <div class="response-title">Response (200 OK):</div>
                        <div class="code-block">
{
  "history": [
    {
      "_id": "507f1f77bcf86cd799439011",
      "userId": "507f1f77bcf86cd799439012",
      "points": 50,
      "type": "purchase",
      "description": "Puntos por compra de ‚Ç¨25.00",
      "previousBalance": 150,
      "newBalance": 200,
      "createdAt": "2024-01-15T10:30:00.000Z"
    }
  ],
  "total": 1,
  "page": 1,
  "totalPages": 1
}
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üìä Estad√≠sticas de Usuario (Admin)</h2>
                <div class="endpoint">
                    <div class="method get">GET</div>
                    <span class="url">/loyalty/user/:userId/stats</span>
                    <div class="description">
                        Obtener estad√≠sticas de fidelizaci√≥n de cualquier usuario. Solo administradores.
                    </div>
                    
                    <div class="params">
                        <strong>Path Parameters:</strong>
                        <div class="param">
                            <span class="param-name">userId</span>
                            <span class="param-type">string</span>
                            <span class="param-required">Requerido</span>
                            <div>ID del usuario a consultar</div>
                        </div>
                    </div>

                    <div class="response">
                        <div class="response-title">Response (200 OK):</div>
                        <div class="code-block">
{
  "currentPoints": 180,
  "currentLevel": "Silver",
  "totalPointsEarned": 500,
  "totalPointsRedeemed": 320,
  "totalTransactions": 15,
  "userInfo": {
    "name": "Juan P√©rez",
    "email": "juan@example.com"
  }
}
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üìã Todos los Registros (Admin)</h2>
                <div class="endpoint">
                    <div class="method get">GET</div>
                    <span class="url">/loyalty</span>
                    <div class="description">
                        Obtener todos los registros de fidelizaci√≥n del sistema. Solo administradores.
                    </div>
                    
                    <div class="params">
                        <strong>Query Parameters:</strong>
                        <div class="param">
                            <span class="param-name">page</span>
                            <span class="param-type">number</span>
                            <span class="param-optional">Opcional</span>
                            <div>N√∫mero de p√°gina (default: 1)</div>
                        </div>
                        <div class="param">
                            <span class="param-name">limit</span>
                            <span class="param-type">number</span>
                            <span class="param-optional">Opcional</span>
                            <div>Elementos por p√°gina (default: 10)</div>
                        </div>
                    </div>

                    <div class="response">
                        <div class="response-title">Response (200 OK):</div>
                        <div class="code-block">
{
  "records": [
    {
      "_id": "507f1f77bcf86cd799439011",
      "userId": "507f1f77bcf86cd799439012",
      "points": 50,
      "type": "purchase",
      "description": "Puntos por compra de ‚Ç¨25.00",
      "userInfo": {
        "name": "Juan P√©rez",
        "email": "juan@example.com"
      },
      "createdAt": "2024-01-15T10:30:00.000Z"
    }
  ],
  "total": 1,
  "page": 1,
  "totalPages": 1
}
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üèÜ Beneficios por Nivel</h2>
                <div class="endpoint">
                    <div class="method get">GET</div>
                    <span class="url">/loyalty/benefits/levels</span>
                    <div class="description">
                        Obtener informaci√≥n de todos los niveles de fidelizaci√≥n y sus beneficios.
                    </div>

                    <div class="response">
                        <div class="response-title">Response (200 OK):</div>
                        <div class="code-block">
{
  "levels": [
    {
      "name": "Bronze",
      "minPoints": 0,
      "maxPoints": 299,
      "benefits": [
        "1 punto por cada ‚Ç¨1 gastado",
        "Acceso a cupones b√°sicos"
      ]
    },
    {
      "name": "Silver",
      "minPoints": 300,
      "maxPoints": 799,
      "benefits": [
        "1.2 puntos por cada ‚Ç¨1 gastado",
        "5% de descuento en todas las compras",
        "Env√≠o gratuito en pedidos superiores a ‚Ç¨15"
      ]
    },
    {
      "name": "Gold",
      "minPoints": 800,
      "maxPoints": 1499,
      "benefits": [
        "1.5 puntos por cada ‚Ç¨1 gastado",
        "10% de descuento en todas las compras",
        "Env√≠o gratuito en todos los pedidos",
        "Acceso prioritario a nuevos productos"
      ]
    },
    {
      "name": "Platinum",
      "minPoints": 1500,
      "maxPoints": null,
      "benefits": [
        "2 puntos por cada ‚Ç¨1 gastado",
        "15% de descuento en todas las compras",
        "Env√≠o gratuito en todos los pedidos",
        "Acceso exclusivo a productos premium",
        "Soporte prioritario 24/7"
      ]
    }
  ]
}
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üéÅ Mis Beneficios</h2>
                <div class="endpoint">
                    <div class="method get">GET</div>
                    <span class="url">/loyalty/benefits/user</span>
                    <div class="description">
                        Obtener beneficios espec√≠ficos del usuario autenticado seg√∫n su nivel actual.
                    </div>

                    <div class="response">
                        <div class="response-title">Response (200 OK):</div>
                        <div class="code-block">
{
  "currentLevel": "Silver",
  "currentPoints": 450,
  "nextLevel": "Gold",
  "pointsToNextLevel": 350,
  "benefits": [
    "1.2 puntos por cada ‚Ç¨1 gastado",
    "5% de descuento en todas las compras",
    "Env√≠o gratuito en pedidos superiores a ‚Ç¨15"
  ],
  "nextLevelBenefits": [
    "1.5 puntos por cada ‚Ç¨1 gastado",
    "10% de descuento en todas las compras",
    "Env√≠o gratuito en todos los pedidos",
    "Acceso prioritario a nuevos productos"
  ]
}
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üí∞ Aplicar Descuento por Nivel</h2>
                <div class="endpoint">
                    <div class="method post">POST</div>
                    <span class="url">/loyalty/benefits/apply-discount</span>
                    <div class="description">
                        Aplicar descuento autom√°tico seg√∫n el nivel de fidelizaci√≥n del usuario.
                    </div>
                    
                    <div class="params">
                        <strong>Body Parameters:</strong>
                        <div class="param">
                            <span class="param-name">orderTotal</span>
                            <span class="param-type">number</span>
                            <span class="param-required">Requerido</span>
                            <div>Monto total del pedido antes del descuento</div>
                        </div>
                    </div>

                    <div class="response">
                        <div class="response-title">Response (200 OK):</div>
                        <div class="code-block">
{
  "originalTotal": 50.00,
  "discountAmount": 2.50,
  "discountPercentage": 5,
  "finalTotal": 47.50,
  "level": "Silver",
  "message": "Descuento de 5% aplicado por nivel Silver"
}
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üîç Validar C√≥digo de Beneficio</h2>
                <div class="endpoint">
                    <div class="method post">POST</div>
                    <span class="url">/loyalty/benefits/validate-code</span>
                    <div class="description">
                        Validar un c√≥digo de beneficio especial del usuario.
                    </div>
                    
                    <div class="params">
                        <strong>Body Parameters:</strong>
                        <div class="param">
                            <span class="param-name">code</span>
                            <span class="param-type">string</span>
                            <span class="param-required">Requerido</span>
                            <div>C√≥digo de beneficio a validar</div>
                        </div>
                    </div>

                    <div class="response">
                        <div class="response-title">Response (200 OK) - V√°lido:</div>
                        <div class="code-block">
{
  "isValid": true,
  "benefit": {
    "type": "free_delivery",
    "description": "Env√≠o gratuito",
    "value": 3.50
  },
  "message": "C√≥digo v√°lido: Env√≠o gratuito aplicado"
}
                        </div>
                    </div>

                    <div class="response">
                        <div class="response-title">Response (200 OK) - Inv√°lido:</div>
                        <div class="code-block">
{
  "isValid": false,
  "message": "C√≥digo no v√°lido o ya utilizado"
}
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üìä Sistema de Niveles</h2>
                <div class="level-card">
                    <div class="level-name">ü•â Bronze (0-299 puntos)</div>
                    <ul>
                        <li>1 punto por cada ‚Ç¨1 gastado</li>
                        <li>Acceso a cupones b√°sicos</li>
                        <li>Descuentos ocasionales</li>
                    </ul>
                </div>

                <div class="level-card">
                    <div class="level-name">ü•à Silver (300-799 puntos)</div>
                    <ul>
                        <li>1.2 puntos por cada ‚Ç¨1 gastado</li>
                        <li>5% de descuento en todas las compras</li>
                        <li>Env√≠o gratuito en pedidos superiores a ‚Ç¨15</li>
                        <li>Acceso a cupones premium</li>
                    </ul>
                </div>

                <div class="level-card">
                    <div class="level-name">ü•á Gold (800-1499 puntos)</div>
                    <ul>
                        <li>1.5 puntos por cada ‚Ç¨1 gastado</li>
                        <li>10% de descuento en todas las compras</li>
                        <li>Env√≠o gratuito en todos los pedidos</li>
                        <li>Acceso prioritario a nuevos productos</li>
                        <li>C√≥digos de beneficio exclusivos</li>
                    </ul>
                </div>

                <div class="level-card">
                    <div class="level-name">üíé Platinum (1500+ puntos)</div>
                    <ul>
                        <li>2 puntos por cada ‚Ç¨1 gastado</li>
                        <li>15% de descuento en todas las compras</li>
                        <li>Env√≠o gratuito en todos los pedidos</li>
                        <li>Acceso exclusivo a productos premium</li>
                        <li>Soporte prioritario 24/7</li>
                        <li>Beneficios personalizados</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>üîÑ Tipos de Transacciones</h2>
                <div class="note">
                    <strong>üìù Tipos disponibles:</strong>
                    <ul>
                        <li><strong>purchase:</strong> Puntos ganados por compras</li>
                        <li><strong>bonus:</strong> Puntos extra por promociones o eventos</li>
                        <li><strong>redemption:</strong> Puntos canjeados por beneficios</li>
                        <li><strong>expiration:</strong> Puntos expirados por inactividad</li>
                        <li><strong>adjustment:</strong> Ajustes manuales por administradores</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>üîí Seguridad y Validaciones</h2>
                <div class="warning">
                    <strong>‚ö†Ô∏è Validaciones autom√°ticas:</strong>
                    <ul>
                        <li>Verificaci√≥n de saldo suficiente para canjes</li>
                        <li>Control de l√≠mites de puntos por transacci√≥n</li>
                        <li>Validaci√≥n de c√≥digos de beneficio √∫nicos</li>
                        <li>Prevenci√≥n de transacciones duplicadas</li>
                        <li>Auditor√≠a completa de todas las operaciones</li>
                    </ul>
                </div>

                <div class="success">
                    <strong>‚úÖ Caracter√≠sticas de seguridad:</strong>
                    <ul>
                        <li>Autenticaci√≥n JWT obligatoria</li>
                        <li>Autorizaci√≥n basada en roles</li>
                        <li>Validaci√≥n de entrada en todos los endpoints</li>
                        <li>Logs de auditor√≠a para transacciones</li>
                        <li>Protecci√≥n contra manipulaci√≥n de puntos</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>üìà Ejemplos de Uso</h2>
                <div class="note">
                    <strong>üõí Flujo t√≠pico de fidelizaci√≥n:</strong>
                    <ol>
                        <li>Usuario completa una compra</li>
                        <li>Sistema calcula puntos: <code>POST /loyalty</code></li>
                        <li>Usuario consulta su nivel: <code>GET /loyalty/my-stats</code></li>
                        <li>Usuario aplica descuento: <code>POST /loyalty/benefits/apply-discount</code></li>
                        <li>Usuario canjea puntos: <code>POST /loyalty</code> (tipo: redemption)</li>
                    </ol>
                </div>

                <div class="note">
                    <strong>üë®‚Äçüíº Gesti√≥n administrativa:</strong>
                    <ol>
                        <li>Admin consulta historial: <code>GET /loyalty/user/:userId</code></li>
                        <li>Admin ajusta puntos: <code>POST /loyalty</code></li>
                        <li>Admin genera c√≥digos: <code>POST /loyalty/benefits/validate-code</code></li>
                        <li>Admin monitorea estad√≠sticas: <code>GET /loyalty</code></li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
</body>
</html> 