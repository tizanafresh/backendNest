<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentaci√≥n T√©cnica Backend - Tizanas Fresh</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 40px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }
        .header p {
            margin: 10px 0 0 0;
            font-size: 1.2em;
            opacity: 0.9;
        }
        .content {
            padding: 40px;
        }
        .section {
            margin-bottom: 40px;
            padding: 30px;
            border-radius: 10px;
            background: #f8f9fa;
            border-left: 5px solid #e74c3c;
        }
        .section h2 {
            color: #2c3e50;
            margin-top: 0;
            font-size: 1.8em;
        }
        .section h3 {
            color: #34495e;
            margin-top: 25px;
            font-size: 1.4em;
        }
        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .tech-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 4px solid #3498db;
        }
        .tech-card h4 {
            color: #2c3e50;
            margin-top: 0;
            font-size: 1.2em;
        }
        .version {
            background: #3498db;
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            margin-left: 10px;
        }
        .architecture {
            background: white;
            padding: 30px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .architecture svg {
            max-width: 100%;
            height: auto;
        }
        .table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .table th, .table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        .table th {
            background: #34495e;
            color: white;
        }
        .table tr:nth-child(even) {
            background: #f2f2f2;
        }
        .dependency-list {
            list-style: none;
            padding: 0;
        }
        .dependency-list li {
            background: white;
            margin: 10px 0;
            padding: 15px 20px;
            border-radius: 8px;
            border-left: 4px solid #e74c3c;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .security-item {
            background: #e8f5e8;
            border-left: 4px solid #27ae60;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
            margin: 10px 0;
        }
        .priority {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
            margin-left: 10px;
        }
        .high { background: #e74c3c; color: white; }
        .medium { background: #f39c12; color: white; }
        .low { background: #27ae60; color: white; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚öôÔ∏è Tizanas Fresh</h1>
            <p>Documentaci√≥n T√©cnica del Backend</p>
            <p>NestJS + MongoDB - Versi√≥n 1.0</p>
        </div>
        
        <div class="content">
            <div class="section">
                <h2>üèóÔ∏è Arquitectura del Sistema</h2>
                <div class="architecture">
                    <svg width="900" height="600" viewBox="0 0 900 600">
                        <defs>
                            <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
                            </marker>
                        </defs>
                        
                        <!-- Client Layer -->
                        <rect x="50" y="50" width="200" height="80" rx="10" fill="#61dafb" stroke="#21a1cb" stroke-width="3"/>
                        <text x="150" y="95" text-anchor="middle" fill="white" font-weight="bold">React Native App</text>
                        
                        <!-- API Gateway -->
                        <rect x="350" y="50" width="200" height="80" rx="10" fill="#e74c3c" stroke="#c0392b" stroke-width="3"/>
                        <text x="450" y="95" text-anchor="middle" fill="white" font-weight="bold">NestJS API Gateway</text>
                        
                        <!-- Controllers Layer -->
                        <rect x="650" y="50" width="200" height="80" rx="10" fill="#9b59b6" stroke="#8e44ad" stroke-width="3"/>
                        <text x="750" y="95" text-anchor="middle" fill="white" font-weight="bold">Controllers</text>
                        
                        <!-- Services Layer -->
                        <rect x="50" y="200" width="200" height="80" rx="10" fill="#2ecc71" stroke="#27ae60" stroke-width="3"/>
                        <text x="150" y="245" text-anchor="middle" fill="white" font-weight="bold">Services</text>
                        
                        <!-- Guards & Interceptors -->
                        <rect x="350" y="200" width="200" height="80" rx="10" fill="#f39c12" stroke="#e67e22" stroke-width="3"/>
                        <text x="450" y="245" text-anchor="middle" fill="white" font-weight="bold">Guards & Interceptors</text>
                        
                        <!-- DTOs & Validation -->
                        <rect x="650" y="200" width="200" height="80" rx="10" fill="#1abc9c" stroke="#16a085" stroke-width="3"/>
                        <text x="750" y="245" text-anchor="middle" fill="white" font-weight="bold">DTOs & Validation</text>
                        
                        <!-- Database Layer -->
                        <rect x="50" y="350" width="200" height="80" rx="10" fill="#34495e" stroke="#2c3e50" stroke-width="3"/>
                        <text x="150" y="395" text-anchor="middle" fill="white" font-weight="bold">MongoDB</text>
                        
                        <!-- External Services -->
                        <rect x="350" y="350" width="200" height="80" rx="10" fill="#95a5a6" stroke="#7f8c8d" stroke-width="3"/>
                        <text x="450" y="395" text-anchor="middle" fill="white" font-weight="bold">External Services</text>
                        
                        <!-- Admin System -->
                        <rect x="650" y="350" width="200" height="80" rx="10" fill="#e67e22" stroke="#d35400" stroke-width="3"/>
                        <text x="750" y="395" text-anchor="middle" fill="white" font-weight="bold">Admin System</text>
                        
                        <!-- Flechas -->
                        <line x1="250" y1="90" x2="350" y2="90" stroke="#333" stroke-width="3" marker-end="url(#arrowhead)"/>
                        <line x1="550" y1="90" x2="650" y2="90" stroke="#333" stroke-width="3" marker-end="url(#arrowhead)"/>
                        <line x1="750" y1="130" x2="150" y2="200" stroke="#333" stroke-width="3" marker-end="url(#arrowhead)"/>
                        <line x1="750" y1="130" x2="450" y2="200" stroke="#333" stroke-width="3" marker-end="url(#arrowhead)"/>
                        <line x1="750" y1="130" x2="750" y2="200" stroke="#333" stroke-width="3" marker-end="url(#arrowhead)"/>
                        <line x1="150" y1="280" x2="150" y2="350" stroke="#333" stroke-width="3" marker-end="url(#arrowhead)"/>
                        <line x1="450" y1="280" x2="450" y2="350" stroke="#333" stroke-width="3" marker-end="url(#arrowhead)"/>
                        <line x1="750" y1="280" x2="750" y2="350" stroke="#333" stroke-width="3" marker-end="url(#arrowhead)"/>
                        
                        <!-- Texto en flechas -->
                        <text x="300" y="85" text-anchor="middle" fill="#333" font-size="12" font-weight="bold">HTTP/HTTPS</text>
                        <text x="600" y="85" text-anchor="middle" fill="#333" font-size="12" font-weight="bold">Routing</text>
                        <text x="450" y="165" text-anchor="middle" fill="#333" font-size="12" font-weight="bold">Business Logic</text>
                        <text x="650" y="165" text-anchor="middle" fill="#333" font-size="12" font-weight="bold">Validation</text>
                        <text x="850" y="165" text-anchor="middle" fill="#333" font-size="12" font-weight="bold">Data Transfer</text>
                        <text x="250" y="325" text-anchor="middle" fill="#333" font-size="12" font-weight="bold">Data Persistence</text>
                        <text x="450" y="325" text-anchor="middle" fill="#333" font-size="12" font-weight="bold">External APIs</text>
                        <text x="650" y="325" text-anchor="middle" fill="#333" font-size="12" font-weight="bold">Integration</text>
                    </svg>
                </div>
                
                <h3>Descripci√≥n de la Arquitectura:</h3>
                <p>El backend sigue una arquitectura modular basada en NestJS con las siguientes capas:</p>
                <ul>
                    <li><strong>Capa de Controllers:</strong> Maneja las peticiones HTTP y respuestas</li>
                    <li><strong>Capa de Services:</strong> Contiene la l√≥gica de negocio</li>
                    <li><strong>Capa de Guards & Interceptors:</strong> Autenticaci√≥n y middleware</li>
                    <li><strong>Capa de DTOs:</strong> Validaci√≥n y transferencia de datos</li>
                    <li><strong>Capa de Base de Datos:</strong> Persistencia con MongoDB</li>
                    <li><strong>Integraci√≥n Externa:</strong> Servicios de terceros y sistema administrativo</li>
                </ul>
            </div>

            <div class="section">
                <h2>üõ†Ô∏è Stack Tecnol√≥gico</h2>
                
                <h3>Framework Principal</h3>
                <div class="tech-grid">
                    <div class="tech-card">
                        <h4>NestJS <span class="version">10.0+</span></h4>
                        <p>Framework progresivo de Node.js para construir aplicaciones escalables</p>
                        <ul>
                            <li>Arquitectura modular y escalable</li>
                            <li>Decoradores y metadatos TypeScript</li>
                            <li>Inyecci√≥n de dependencias integrada</li>
                            <li>Guards, interceptors y pipes</li>
                        </ul>
                    </div>
                    
                    <div class="tech-card">
                        <h4>TypeScript <span class="version">5.0+</span></h4>
                        <p>Lenguaje de programaci√≥n tipado para mayor robustez</p>
                        <ul>
                            <li>Tipado est√°tico y interfaces</li>
                            <li>Decoradores y metadatos</li>
                            <li>Mejor autocompletado y debugging</li>
                            <li>Compatibilidad con JavaScript</li>
                        </ul>
                    </div>
                    
                    <div class="tech-card">
                        <h4>Node.js <span class="version">18.0+</span></h4>
                        <p>Runtime de JavaScript para el servidor</p>
                        <ul>
                            <li>Event-driven y no bloqueante</li>
                            <li>Alto rendimiento y escalabilidad</li>
                            <li>Ecosistema npm rico</li>
                            <li>LTS para estabilidad</li>
                        </ul>
                    </div>
                </div>

                <h3>Base de Datos</h3>
                <div class="tech-grid">
                    <div class="tech-card">
                        <h4>MongoDB <span class="version">6.0+</span></h4>
                        <p>Base de datos NoSQL orientada a documentos</p>
                        <ul>
                            <li>Escalabilidad horizontal</li>
                            <li>Flexibilidad en esquemas</li>
                            <li>Consultas complejas y agregaciones</li>
                            <li>Alto rendimiento para lecturas</li>
                        </ul>
                    </div>
                    
                    <div class="tech-card">
                        <h4>Mongoose <span class="version">7.0+</span></h4>
                        <p>ODM para MongoDB y Node.js</p>
                        <ul>
                            <li>Esquemas y validaci√≥n</li>
                            <li>Middleware de documentos</li>
                            <li>Consultas tipadas</li>
                            <li>Plugins y virtuals</li>
                        </ul>
                    </div>
                </div>

                <h3>Autenticaci√≥n y Seguridad</h3>
                <div class="tech-grid">
                    <div class="tech-card">
                        <h4>Passport.js <span class="version">0.6+</span></h4>
                        <p>Middleware de autenticaci√≥n para Node.js</p>
                        <ul>
                            <li>Estrategias de autenticaci√≥n</li>
                            <li>JWT, Local, OAuth</li>
                            <li>F√°cil integraci√≥n con NestJS</li>
                            <li>Extensible y configurable</li>
                        </ul>
                    </div>
                    
                    <div class="tech-card">
                        <h4>JWT <span class="version">9.0+</span></h4>
                        <p>JSON Web Tokens para autenticaci√≥n</p>
                        <ul>
                            <li>Tokens seguros y firmados</li>
                            <li>Refresh tokens</li>
                            <li>Payload personalizable</li>
                            <li>Expiraci√≥n configurable</li>
                        </ul>
                    </div>
                    
                    <div class="tech-card">
                        <h4>bcrypt <span class="version">5.1+</span></h4>
                        <p>Encriptaci√≥n de contrase√±as</p>
                        <ul>
                            <li>Hashing seguro de contrase√±as</li>
                            <li>Salt autom√°tico</li>
                            <li>Verificaci√≥n de contrase√±as</li>
                            <li>Protecci√≥n contra ataques</li>
                        </ul>
                    </div>
                </div>

                <h3>Validaci√≥n y Serializaci√≥n</h3>
                <div class="tech-grid">
                    <div class="tech-card">
                        <h4>class-validator <span class="version">0.14+</span></h4>
                        <p>Validaci√≥n basada en decoradores</p>
                        <ul>
                            <li>Validaci√≥n autom√°tica de DTOs</li>
                            <li>Decoradores de validaci√≥n</li>
                            <li>Mensajes personalizados</li>
                            <li>Validaci√≥n anidada</li>
                        </ul>
                    </div>
                    
                    <div class="tech-card">
                        <h4>class-transformer <span class="version">0.5+</span></h4>
                        <p>Transformaci√≥n de objetos</p>
                        <ul>
                            <li>Serializaci√≥n de respuestas</li>
                            <li>Transformaci√≥n de datos</li>
                            <li>Exclusi√≥n de propiedades</li>
                            <li>Transformaci√≥n anidada</li>
                        </ul>
                    </div>
                </div>

                <h3>Servicios Externos</h3>
                <div class="tech-grid">
                    <div class="tech-card">
                        <h4>Firebase Admin <span class="version">11.0+</span></h4>
                        <p>SDK de Firebase para servidor</p>
                        <ul>
                            <li>Autenticaci√≥n de usuarios</li>
                            <li>Cloud Firestore</li>
                            <li>Cloud Storage</li>
                            <li>Cloud Messaging</li>
                        </ul>
                    </div>
                    
                    <div class="tech-card">
                        <h4>Nodemailer <span class="version">6.9+</span></h4>
                        <p>Envio de emails</p>
                        <ul>
                            <li>Envio de emails SMTP</li>
                            <li>Templates HTML</li>
                            <li>Adjuntos de archivos</li>
                            <li>M√∫ltiples proveedores</li>
                        </ul>
                    </div>
                    
                    <div class="tech-card">
                        <h4>qrcode <span class="version">1.5+</span></h4>
                        <p>Generaci√≥n de c√≥digos QR</p>
                        <ul>
                            <li>Generaci√≥n de QR din√°mico</li>
                            <li>Personalizaci√≥n de dise√±o</li>
                            <li>M√∫ltiples formatos</li>
                            <li>Alta calidad</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üì¶ Dependencias Principales</h2>
                
                <h3>Dependencias Core <span class="priority high">ALTA</span></h3>
                <ul class="dependency-list">
                    <li><strong>@nestjs/core:</strong> Framework principal de NestJS</li>
                    <li><strong>@nestjs/common:</strong> Utilidades comunes de NestJS</li>
                    <li><strong>@nestjs/platform-express:</strong> Plataforma Express para NestJS</li>
                    <li><strong>@nestjs/config:</strong> Gesti√≥n de configuraci√≥n</li>
                    <li><strong>@nestjs/mongoose:</strong> Integraci√≥n con MongoDB</li>
                    <li><strong>@nestjs/jwt:</strong> Manejo de JWT</li>
                    <li><strong>@nestjs/passport:</strong> Integraci√≥n con Passport</li>
                    <li><strong>@nestjs/throttler:</strong> Rate limiting</li>
                </ul>

                <h3>Dependencias de Base de Datos <span class="priority high">ALTA</span></h3>
                <ul class="dependency-list">
                    <li><strong>mongoose:</strong> ODM para MongoDB</li>
                    <li><strong>@types/mongoose:</strong> Tipos TypeScript para Mongoose</li>
                    <li><strong>mongodb:</strong> Driver nativo de MongoDB</li>
                </ul>

                <h3>Dependencias de Autenticaci√≥n <span class="priority high">ALTA</span></h3>
                <ul class="dependency-list">
                    <li><strong>passport:</strong> Middleware de autenticaci√≥n</li>
                    <li><strong>passport-jwt:</strong> Estrategia JWT para Passport</li>
                    <li><strong>passport-local:</strong> Estrategia local para Passport</li>
                    <li><strong>bcryptjs:</strong> Encriptaci√≥n de contrase√±as</li>
                    <li><strong>@types/bcryptjs:</strong> Tipos TypeScript para bcrypt</li>
                </ul>

                <h3>Dependencias de Validaci√≥n <span class="priority high">ALTA</span></h3>
                <ul class="dependency-list">
                    <li><strong>class-validator:</strong> Validaci√≥n basada en decoradores</li>
                    <li><strong>class-transformer:</strong> Transformaci√≥n de objetos</li>
                    <li><strong>@nestjs/class-validator:</strong> Integraci√≥n con NestJS</li>
                </ul>

                <h3>Dependencias de Servicios <span class="priority medium">MEDIA</span></h3>
                <ul class="dependency-list">
                    <li><strong>firebase-admin:</strong> SDK de Firebase para servidor</li>
                    <li><strong>nodemailer:</strong> Envio de emails</li>
                    <li><strong>qrcode:</strong> Generaci√≥n de c√≥digos QR</li>
                    <li><strong>multer:</strong> Manejo de archivos multipart</li>
                    <li><strong>@types/multer:</strong> Tipos TypeScript para multer</li>
                </ul>

                <h3>Dependencias de Desarrollo <span class="priority low">BAJA</span></h3>
                <ul class="dependency-list">
                    <li><strong>@nestjs/cli:</strong> CLI de NestJS</li>
                    <li><strong>@nestjs/testing:</strong> Utilidades de testing</li>
                    <li><strong>jest:</strong> Framework de testing</li>
                    <li><strong>supertest:</strong> Testing de APIs</li>
                    <li><strong>@types/jest:</strong> Tipos TypeScript para Jest</li>
                    <li><strong>@types/supertest:</strong> Tipos TypeScript para Supertest</li>
                </ul>
            </div>

            <div class="section">
                <h2>üîí Configuraci√≥n de Seguridad</h2>
                
                <div class="security-item">
                    <h4>üîê Autenticaci√≥n JWT</h4>
                    <div class="code-block">
// JWT Configuration
JWT_SECRET=your-super-secret-key
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=your-refresh-secret-key
JWT_REFRESH_EXPIRES_IN=7d
                    </div>
                </div>

                <div class="security-item">
                    <h4>üõ°Ô∏è Rate Limiting</h4>
                    <div class="code-block">
// Rate Limiting Configuration
THROTTLE_TTL=60
THROTTLE_LIMIT=100
                    </div>
                </div>

                <div class="security-item">
                    <h4>üîí CORS Configuration</h4>
                    <div class="code-block">
// CORS Settings
CORS_ORIGIN=https://your-frontend-domain.com
CORS_CREDENTIALS=true
                    </div>
                </div>

                <div class="security-item">
                    <h4>üîê Helmet Security</h4>
                    <div class="code-block">
// Security Headers
app.use(helmet({
  contentSecurityPolicy: {
    directives: {
      defaultSrc: ["'self'"],
      styleSrc: ["'self'", "'unsafe-inline'"],
      scriptSrc: ["'self'"],
    },
  },
}));
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>üìÅ Estructura del Proyecto</h2>
                
                <div class="code-block">
tizanas-backend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.ts                 # Punto de entrada
‚îÇ   ‚îú‚îÄ‚îÄ app.module.ts           # M√≥dulo principal
‚îÇ   ‚îú‚îÄ‚îÄ app.controller.ts       # Controller principal
‚îÇ   ‚îú‚îÄ‚îÄ app.service.ts          # Service principal
‚îÇ   ‚îú‚îÄ‚îÄ config/                 # Configuraci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.config.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ jwt.config.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app.config.ts
‚îÇ   ‚îú‚îÄ‚îÄ auth/                   # M√≥dulo de autenticaci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.module.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.controller.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.service.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ guards/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ strategies/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dto/
‚îÇ   ‚îú‚îÄ‚îÄ users/                  # M√≥dulo de usuarios
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users.module.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users.controller.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users.service.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dto/
‚îÇ   ‚îú‚îÄ‚îÄ products/               # M√≥dulo de productos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ products.module.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ products.controller.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ products.service.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dto/
‚îÇ   ‚îú‚îÄ‚îÄ orders/                 # M√≥dulo de pedidos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orders.module.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orders.controller.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orders.service.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dto/
‚îÇ   ‚îú‚îÄ‚îÄ loyalty/                # M√≥dulo de fidelizaci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ loyalty.module.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ loyalty.controller.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ loyalty.service.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dto/
‚îÇ   ‚îú‚îÄ‚îÄ coupons/                # M√≥dulo de cupones
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ coupons.module.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ coupons.controller.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ coupons.service.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dto/
‚îÇ   ‚îú‚îÄ‚îÄ notifications/          # M√≥dulo de notificaciones
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notifications.module.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notifications.controller.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notifications.service.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dto/
‚îÇ   ‚îú‚îÄ‚îÄ common/                 # Utilidades comunes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ guards/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ interceptors/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pipes/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ decorators/
‚îÇ   ‚îî‚îÄ‚îÄ shared/                 # Recursos compartidos
‚îÇ       ‚îú‚îÄ‚îÄ interfaces/
‚îÇ       ‚îú‚îÄ‚îÄ constants/
‚îÇ       ‚îî‚îÄ‚îÄ utils/
‚îú‚îÄ‚îÄ test/                       # Tests
‚îú‚îÄ‚îÄ dist/                       # Build compilado
‚îú‚îÄ‚îÄ .env                        # Variables de entorno
‚îú‚îÄ‚îÄ .env.example               # Ejemplo de variables
‚îú‚îÄ‚îÄ nest-cli.json              # Configuraci√≥n CLI
‚îú‚îÄ‚îÄ package.json               # Dependencias
‚îú‚îÄ‚îÄ tsconfig.json              # Configuraci√≥n TypeScript
‚îî‚îÄ‚îÄ README.md                  # Documentaci√≥n
                </div>
            </div>

            <div class="section">
                <h2>üöÄ Configuraci√≥n de Despliegue</h2>
                
                <h3>Variables de Entorno</h3>
                <div class="code-block">
# Database Configuration
MONGODB_URI=mongodb://localhost:27017/tizanas_fresh
MONGODB_URI_PROD=mongodb+srv://user:pass@cluster.mongodb.net/tizanas_fresh

# JWT Configuration
JWT_SECRET=your-super-secret-key-here
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=your-refresh-secret-key-here
JWT_REFRESH_EXPIRES_IN=7d

# Server Configuration
PORT=3000
NODE_ENV=development

# Firebase Configuration
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_PRIVATE_KEY=your-private-key
FIREBASE_CLIENT_EMAIL=your-client-email

# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Rate Limiting
THROTTLE_TTL=60
THROTTLE_LIMIT=100

# CORS
CORS_ORIGIN=http://localhost:3000
                </div>

                <h3>Scripts de Package.json</h3>
                <div class="code-block">
{
  "scripts": {
    "build": "nest build",
    "format": "prettier --write \"src/**/*.ts\" \"test/**/*.ts\"",
    "start": "nest start",
    "start:dev": "nest start --watch",
    "start:debug": "nest start --debug --watch",
    "start:prod": "node dist/main",
    "lint": "eslint \"{src,apps,libs,test}/**/*.ts\" --fix",
    "test": "jest",
    "test:watch": "jest --watch",
    "test:cov": "jest --coverage",
    "test:debug": "node --inspect-brk -r tsconfig-paths/register -r ts-node/register node_modules/.bin/jest --runInBand",
    "test:e2e": "jest --config ./test/jest-e2e.json"
  }
}
                </div>
            </div>

            <div class="section">
                <h2>üìä M√©tricas de Rendimiento</h2>
                
                <table class="table">
                    <thead>
                        <tr>
                            <th>M√©trica</th>
                            <th>Objetivo</th>
                            <th>Herramienta de Medici√≥n</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Tiempo de respuesta API</td>
                            <td>< 200ms</td>
                            <td>New Relic, DataDog</td>
                        </tr>
                        <tr>
                            <td>Throughput</td>
                            <td>> 1000 req/s</td>
                            <td>Artillery, Apache Bench</td>
                        </tr>
                        <tr>
                            <td>Uso de memoria</td>
                            <td>< 512MB</td>
                            <td>Node.js Inspector</td>
                        </tr>
                        <tr>
                            <td>Disponibilidad</td>
                            <td>99.9%</td>
                            <td>Uptime Robot, Pingdom</td>
                        </tr>
                        <tr>
                            <td>Cobertura de tests</td>
                            <td>> 80%</td>
                            <td>Jest Coverage</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</body>
</html> 